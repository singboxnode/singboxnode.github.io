<!DOCTYPE html>
<html xml:lang="zh-CN" lang="zh-CN">

<head>
        <link rel="canonical" href="https://singboxnode.github.io/news/article-56371.htm" />
    <title>SpringBoot 上传/返回图片与Base64转换</title>
    <!--meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <meta name="description" content="配置 默认情况下，在 spring boot 嵌入的 tomcat 限制了上传文件的大小，在 spring boot 的我官方文档中说明，每个文件的最大配置为1Mb，单次请求的总文件数不能大于10Mb" />
        <!--//meta tags ends here-->
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <link rel="icon" href="/assets/website/img/singboxnode/favicon.ico" type="image/x-icon"/>

    <meta name="author" content="SingBoxNode官网订阅站">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://singboxnode.github.io/news/article-56371.htm" />
    <meta property="og:site_name" content="SingBoxNode官网订阅站" />
    <meta property="og:title" content="SpringBoot 上传/返回图片与Base64转换" />
    <meta property="og:image" content="https://singboxnode.github.io/uploads/20240503/7edacf5c0c7eddd2e7926be4d64fa0ed.webp" />
        <meta property="og:release_date" content="2025-02-14T10:01:56" />
    <meta property="og:updated_time" content="2025-02-14T10:01:56" />
        <meta property="og:description" content="配置 默认情况下，在 spring boot 嵌入的 tomcat 限制了上传文件的大小，在 spring boot 的我官方文档中说明，每个文件的最大配置为1Mb，单次请求的总文件数不能大于10Mb" />
        
    <meta name="applicable-device" content="pc,mobile" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="robots" content="max-image-preview:large" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="SpringBoot 上传/返回图片与Base64转换">
    <meta name="format-detection" content="telephone=no">

    <link rel="dns-prefetch" href="https:/www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googleadservices.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
    <link rel="dns-prefetch" href="https://cm.g.doubleclick.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">

    <!-- bootstrap style sheet -->
    <link href="/assets/website/css/singboxnode/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!--smooth box-->
    <link rel="stylesheet" href="/assets/website/css/singboxnode/smoothbox.css" type='text/css' media="all" />
    <!--stylesheets-->
    <link href="/assets/website/css/singboxnode/style.css" rel='stylesheet' type='text/css' media="all">
    <!-- flexslider -->
    <link rel="stylesheet" href="/assets/website/css/singboxnode/flexslider.css" type="text/css" media="all" />
    <!-- fontawesome -->
    <link href="/assets/website/css/singboxnode/fontawesome-all.min.css" rel="stylesheet" type="text/css" media="all">
    <!-- Popup css (for Video Popup) -->
    <link href="/assets/website/css/singboxnode/popuo-box.css" rel="stylesheet" type="text/css" media="all" />
    <link href="http://fonts.googleapis.com/css?family=PT+Serif:400,400i,700,700i" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-982T9L7Y5V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-982T9L7Y5V');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
        <!-- nav -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light">
            <a class="navbar-brand" href="/">
                        <span class="brand-d">SingBox</span>Node            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ml-auto">
                                        <li class="nav-item">
                        <a class="nav-link scroll" href="/">首页</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link scroll" href="/free-nodes/">免费节点</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link scroll" href="/paid-subscribe/">推荐机场</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link scroll" href="/client.htm">客户端</a>
                    </li>
                                        <li class="nav-item">
                        <a class="nav-link scroll" href="/news/">新闻资讯</a>
                    </li>
                                    </ul>
            </div>
        </nav>
    </header>
    <!-- //nav -->
    <!-- Clients -->
    <div class="clients py-5" id="client">
        <div class="banner-dott1">
            <div class="h3-head text-center">
                <h1 class="banner-text-h3" style="word-break: break-all;">SpringBoot 上传/返回图片与Base64转换</h1>
            </div>
            <div class="container">
                <p><a href="/">首页</a> / <a href="/news/">新闻资讯</a> / 正文</p>
            </div>
        </div>
    </div>
    <!-- //Clients -->
    <!-- about -->
    <div class="about py-5" id="about">
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <div class="row py-3">
                        <div class="col-md-12 about-content">
                                            <input type="hidden" id="share-website-info" data-name="" data-url="">
                  				  				  				<div id="content_views" class="markdown_views prism-atom-one-dark"> <h2><a id="_0" rel="nofollow"></a>配置</h2> <p>默认情况下，在 spring boot 嵌入的 tomcat 限制了上传文件的大小，在 spring boot 的我官方文档中说明，每个文件的最大配置为<code>1Mb</code>，单次请求的总文件数不能大于<code>10Mb</code>。</p> <p>这意味着如果你上传的图片大于<code>1Mb</code>，会被拦截下来，无法正常保存到后台，并抛出一个错误，返回状态码：<code>500</code>。</p> <blockquote> <p>The field file exceeds its maximum permitted size of 1048576 bytes.</p> </blockquote> <p>需要根据实际情况更改这两个数值。(application.yml 配置文件)</p> <pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">servlet</span><span class="token punctuation">:</span><span class="token key atrule">multipart</span><span class="token punctuation">:</span><span class="token key atrule">enabled</span><span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token key atrule">max-file-size</span><span class="token punctuation">:</span> 10MB<span class="token key atrule">max-request-size</span><span class="token punctuation">:</span> 100MB</code></pre> <h3><a id="_19" rel="nofollow"></a>配置虚拟路径映射</h3> <p>后端程序接收到图片资源后，会将图片保存到硬盘中的一个路径下，如果我们想通过URL直接访问到图片资源，就需要配置一个虚拟路径去映射这个真实存在的物理路径。</p> <p>同样是在 application.yml 文件中，添加物理存储路径以及映射到项目中的虚拟路径。</p> <pre><code class="prism language-yaml"><span class="token key atrule">image</span><span class="token punctuation">:</span><span class="token key atrule">save-path</span><span class="token punctuation">:</span> D<span class="token punctuation">:</span>/image<span class="token comment"># 图片存储路径</span><span class="token key atrule">mapper-path</span><span class="token punctuation">:</span> /static/image<span class="token comment"># 图片的映射路径</span></code></pre> <p>添加一个spring boot配置程序，这样就形成了一对映射关系。</p> <pre><code class="prism language-java"><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResourceHandlerRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span><span class="token keyword">class</span><span class="token class-name">SpringbootConfigure</span><span class="token keyword">implements</span><span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">{<!-- --></span><span class="token comment">//@Value可以将配置文件的内容自动注入到属性内</span><span class="token comment">/***图标物理存储路径*/</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${image.save-path}"</span><span class="token punctuation">)</span><span class="token keyword">private</span><span class="token class-name">String</span> imageSavePath<span class="token punctuation">;</span><span class="token comment">/***图标映射路径*/</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${image.mapper-path}"</span><span class="token punctuation">)</span><span class="token keyword">private</span><span class="token class-name">String</span> imageMapperPath<span class="token punctuation">;</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span><span class="token keyword">void</span><span class="token function">addResourceHandlers</span><span class="token punctuation">(</span><span class="token class-name">ResourceHandlerRegistry</span> registry<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>         registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span>imageMapperPath<span class="token operator">+</span><span class="token string">"**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"file:"</span><span class="token operator">+</span> imageSavePath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre> <h2><a id="ImageController_56" rel="nofollow"></a>ImageController</h2> <p>用于接收图片的<code>Controller</code></p> <pre><code class="prism language-java"><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileSystemResource</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">MediaType</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">ResponseEntity</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">Files</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">Path</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>UUID<span class="token punctuation">;</span><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/img"</span><span class="token punctuation">)</span><span class="token keyword">public</span><span class="token keyword">class</span><span class="token class-name">ImageController</span><span class="token punctuation">{<!-- --></span><span class="token comment">/*** 图片存储路径 */</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${image.save-path}"</span><span class="token punctuation">)</span><span class="token keyword">private</span><span class="token class-name">String</span> imageSavePath<span class="token punctuation">;</span><span class="token comment">/*** 图片映射路径 */</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${image.mapper-path}"</span><span class="token punctuation">)</span><span class="token keyword">private</span><span class="token class-name">String</span> imageMapperPath<span class="token punctuation">;</span><span class="token comment">/**      * 获取图片      *      * @param imagePath 图片在服务器中的路径      * @return 返回响应资源      */</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/{path}"</span><span class="token punctuation">)</span><span class="token keyword">public</span><span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Resource</span><span class="token punctuation">&gt;</span></span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token class-name">String</span> imagePath<span class="token punctuation">)</span><span class="token keyword">throws</span><span class="token class-name">IOException</span><span class="token punctuation">{<!-- --></span><span class="token keyword">final</span><span class="token class-name">Path</span> path<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">File</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">FileSystemResource</span> resource<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">FileSystemResource</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contentType</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parseMediaType</span><span class="token punctuation">(</span><span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">probeContentType</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/**      * 上传      *      * @param fileUpload 图片资源      * @return 图映射的虚拟访问路径      */</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span><span class="token keyword">public</span><span class="token class-name">String</span><span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span><span class="token class-name">MultipartFile</span> fileUpload<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//获取文件名</span><span class="token class-name">String</span> fileName<span class="token operator">=</span> fileUpload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取文件后缀名。也可以在这里添加判断语句，规定特定格式的图片才能上传，否则拒绝保存。</span><span class="token class-name">String</span> suffixName<span class="token operator">=</span> fileName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//为了避免发生图片替换，这里使用了文件名重新生成</span>         fileName<span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span> suffixName<span class="token punctuation">;</span><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span><span class="token comment">// 将图片保存到文件夹里</span>             fileUpload<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token class-name">File</span><span class="token punctuation">(</span>imageSavePath<span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> imageMapperPath<span class="token operator">+</span> fileName<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre> <h2><a id="_132" rel="nofollow"></a>数据发送到后端需要注意的问题</h2> <p>要注意前端 post 提交<code>content-type</code> 的格式以及后端<code>@RequestBody</code> 注解的问题</p> <h3><a id="RequestBody_137" rel="nofollow"></a>@RequestBody注解</h3> <p><code>@RequestBody</code> 注解常用来处理<code>POST</code> 请求，并且<code>content-type</code> 不是默认的<code>application/x-www-form-urlcoded</code> 编码的内容，比如说：<code>application/json</code> 或者是<code>application/xml</code> 等。一般情况下来说常用其来处理<code>application/json</code> 类型。</p> <p><code>@RequestMapping</code>注解的方法的参数中包含了<code>@RequestBody</code>注解，那么 Spring 会首先查看请求中的<code>Content-Type</code>头部，然后根据<code>Content-Type</code>头部去查找合适的<code>HttpMessageConverter</code></p> <p><code>@RequestBody</code>用于需要触发<code>HttpMessageConverter</code>的场景：</p> <ul> <li>当HTTP请求的<code>Content-Type</code>头部为<code>application/json</code>时，需要加上<code>@RequestBody</code>注解，并使用默认的<code>HttpMessageConverter</code>或者自定义的<code>HttpMessageConverter</code>对请求的body中的json字符串转换为java对象。</li> <li>当<code>Content-Type</code>头部的值为<code>application/x-www-form-urlencoded</code>或者<code>multipart/form-data</code>时，表名此请求是一个常规的表单请求，不能使用<code>@RequestBody</code>注解。</li> </ul> <blockquote> <p>在《Spring 实战》中，表明了<code>@RequestBody</code>注解的含义和使用方式：用来解析请求体（可能是<code>POST</code>,<code>PUT</code>,<code>DELETE</code>,<code>GET</code>请求）中<code>Content-Type</code>为<code>application/json</code>类型的请求，利用消息转换器将其转换为对应的java对象（必须使用 VO 对象（VO：存储表单数据的实体类对象，详见类命名：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://zhangxuetu.cn/archives/2029"  rel="nofollow">Java 中 PO、VO、POJO、DTO、DAO、Service 包等常见包名的理解</a>）去接收）</p> </blockquote> <p>那么什么类型的消息能够加上<code>@RequestBody</code>，什么类型的消息不能加呢？当请求中的<code>ContentType</code>分别为一下三种类型时的结果：</p> <table> <thead> <tr> <th align="left">是否加上注解</th> <th align="left">x-www-form-urlencoded</th> <th align="left">form-data</th> <th align="left">application/json</th> </tr> </thead> <tbody> <tr> <td align="left">不加<code>@RequestBody</code>注解</td> <td align="left">能接收</td> <td align="left">能接收</td> <td align="left">不能接收</td> </tr> <tr> <td align="left">加上<code>@RequestBody</code>注解</td> <td align="left">不能接收</td> <td align="left">不能接收</td> <td align="left">能接收</td> </tr> </tbody> </table> <blockquote> <p>延伸学习：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=http://zhangxuetu.cn/archives/2238"  rel="nofollow">常见的表单数据格式</a></p> </blockquote> <h2><a id="_Base64__161" rel="nofollow"></a>图片转为 Base64 编码格式保存</h2> <p>一般建议很小的图片保存为 Base64 格式，或者页面中图片特别少且大小不是很大的情况下使用，因为转为 Base64 编码格式后将会明显占用更多空间。因为 Base64 的使用缺点，所以一般图片小于<code>10kb</code> 的时候，我们才会选择使用 Base64 图片，比如一些表情图片，太大的图片转换成 Base64 得不偿失。当然，极端情况极端考虑。</p> <p>Base64 编码的思想是是采用<code>64</code>个基本的 ASCII 码字符对数据进行重新编码。</p> <p>Base64 编码要求把<code>3</code>个<code>8</code>位字节（<code>3×8=24</code>）转化为<code>4</code>个<code>6</code>位的字节（<code>4×6=24</code>），之后在<code>6</code>位的前面补两个<code>0</code>，形成<code>8</code>位一个字节的形式。</p> <p>如果剩下的字符不足<code>3</code>个字节，则用<code>0</code>填充，输出字符使用’<code>=</code>‘，因此编码后输出的文本末尾可能会出现<code>1</code>或<code>2</code>个’<code>=</code>'。</p> <p>为了保证所输出的编码位可读字符，Base64 制定了一个编码表，以便进行统一转换。编码表的大小为<code>2^6=64</code>，这也是 Base64 名称的由来。</p> <blockquote> <p>注BASE64字符表：<code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/</code></p> </blockquote> <p><img decoding="async" src="http://img.555519.xyz/uploads3/20220603/11a7fedf708feafce9cd3c592af29bbb.jpg" alt="SpringBoot 上传/返回图片与Base64转换"></p> <p>从以上编码规则可以得知，通过 Base64 编码，原来的<code>3</code>个字节编码后将成为<code>4</code> 个字节，即字节增加了 33.3%，数据量相应变大。所以<code>10M</code> 的数据通过 Base64 编码后大小大概为<code>10M*133.3%=13.33M</code>。</p> <h3><a id="base64_179" rel="nofollow"></a>图片转换成base64格式的优缺点</h3> <ol> <li>优点</li> </ol> <p>（1）Base64 格式的图片是文本格式，占用<strong>内存</strong>小，转换后的大小比例大概为<code>1/3</code>，降低了资源服务器的消耗；</p> <p>（2）网页中使用 Base64 格式的图片时，不用再请求服务器调用图片资源，减少了服务器访问次数。</p> <ol start="2"> <li>缺点</li> </ol> <p>（1）base64格式的文本内容较多，存储在数据库中增大了数据库服务器的压力；（磁盘空间占用大）</p> <p>（2）网页加载图片虽然不用访问服务器了，但因为base64格式的内容太多，所以加载网页的速度会降低，可能会影响用户的体验。</p> <p>（3）Base64 无法缓存，要缓存只能缓存包含 Base64 的文件，比如 js 或者 css，这比直接缓存图片要差很多，而且一般 HTML 改动比较频繁，所以等同于得不到缓存效益。</p> <h3><a id="Base64__195" rel="nofollow"></a>Base64 转换图片工具类</h3> <p>其实也可以转换文件</p> <pre><code class="prism language-java"><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>tomcat<span class="token punctuation">.</span>util<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>binary<span class="token punctuation">.</span></span><span class="token class-name">Base64</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token keyword">class</span><span class="token class-name">ImageToBase64Util</span><span class="token punctuation">{<!-- --></span><span class="token comment">/***  本地文件(图片、excel等)转换成Base64字符串 */</span><span class="token keyword">public</span><span class="token keyword">static</span><span class="token class-name">String</span><span class="token function">convertFileToBase64</span><span class="token punctuation">(</span><span class="token class-name">String</span> imgPath<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//读取图片字节数组</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span><span class="token class-name">InputStream</span> in<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>imgPath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"文件大小(字节)="</span><span class="token operator">+</span> in<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             data<span class="token operator">=</span><span class="token keyword">new</span><span class="token keyword">byte</span><span class="token punctuation">[</span>in<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>             in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>             in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//对字节数组进行Base64编码，得到Base64编码的字符串</span><span class="token keyword">return</span><span class="token keyword">new</span><span class="token class-name">String</span><span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span><span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">encodeBase64</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/*** 将base64字符串，生成文件 */</span><span class="token keyword">public</span><span class="token keyword">static</span><span class="token class-name">File</span><span class="token function">convertBase64ToFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileBase64String<span class="token punctuation">,</span><span class="token class-name">String</span> filePath<span class="token punctuation">,</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token class-name">BufferedOutputStream</span> bos<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token class-name">FileOutputStream</span> fos<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token class-name">File</span> file<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span><span class="token class-name">File</span> dir<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">File</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//判断文件目录是否存在</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>dir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span> dir<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>                 dir<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bfile<span class="token operator">=</span><span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">decodeBase64</span><span class="token punctuation">(</span>fileBase64String<span class="token punctuation">)</span><span class="token punctuation">;</span>             file<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">File</span><span class="token punctuation">(</span>filePath<span class="token operator">+</span><span class="token class-name">File</span><span class="token punctuation">.</span>separator<span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>             fos<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>             bos<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span>fos<span class="token punctuation">)</span><span class="token punctuation">;</span>             bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bfile<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> file<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span><span class="token keyword">if</span><span class="token punctuation">(</span>bos<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>                     bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e1<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>                     e1<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>fos<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>                     fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e1<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>                     e1<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">return</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/*** MultipartFile转成InputStream 将图片转换成Base64编码 */</span><span class="token keyword">public</span><span class="token keyword">static</span><span class="token class-name">String</span><span class="token function">imgToBase64</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> uploadFiles<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token class-name">InputStream</span> in<span class="token punctuation">;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//读取图片字节数组</span><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> byteArr<span class="token operator">=</span> uploadFiles<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             in<span class="token operator">=</span><span class="token keyword">new</span><span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>byteArr<span class="token punctuation">)</span><span class="token punctuation">;</span>             data<span class="token operator">=</span><span class="token keyword">new</span><span class="token keyword">byte</span><span class="token punctuation">[</span>in<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>             in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>             in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e1<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>             e1<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             e1<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">return</span><span class="token keyword">new</span><span class="token class-name">String</span><span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span><span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">encodeBase64</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre> <h2><a id="_289" rel="nofollow"></a>参考</h2> <ul> <li> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/a460550542/article/details/103307204"  rel="nofollow">Spring中的@RequestBody注解application/json与常规的HTTP方法的传值方式</a></p> </li> <li> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://www.jb51.net/article/245760.htm"  rel="nofollow">spring boot实现图片上传到后台的功能(浏览器可直接访问)</a></p> </li> <li> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/weixin_40611659/article/details/104917094"  rel="nofollow">Base64编码使数据量变大的原因详解</a></p> </li> <li> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/calm_encode/article/details/123189836"  rel="nofollow">Base64是文件变大</a></p> </li> <li> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/weixin_46554760/article/details/114700087"  rel="nofollow">建议小体积的图片转为base64</a></p> </li> <li> <p><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/weixin_39756445/article/details/112584545"  rel="nofollow">将图片转换为base64_图片转换成base64格式的优缺点</a></p> </li> </ul> <ul> <li><a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://www.5axxw.com/questions/content/ohkjyg"  rel="nofollow">如何编写返回图像的Spring Controller方法？</a></li> </ul> </div> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-55809.htm">中国十大宠物粮生产企业名单公示（中国十大宠物粮生产企业名单公示栏）</a></p>
                                        <p>下一个：<a href="/news/article-56372.htm">2020年中国动物疫苗市场现状 2020年中国动物疫苗市场现状如何</a></p>
                                    </div>
                                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/free-nodes/2025-2-2-free-subscribe-node.htm" title="「2月2日」最高速度21.1M/S，2025年SingBox节点每日更新订阅免费节点链接，代理机场推荐">「2月2日」最高速度21.1M/S，2025年SingBox节点每日更新订阅免费节点链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/news/article-48334.htm" title="厦门同安宠物领养中心地址（同安哪里有宠物店的地方）">厦门同安宠物领养中心地址（同安哪里有宠物店的地方）</a></li>
                        <li class="py-2"><a href="/news/article-30131.htm" title="网上卖什么产品比较挣钱（适合新手做的生意）">网上卖什么产品比较挣钱（适合新手做的生意）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-11-30-clash-node-daily-updates.htm" title="「11月30日」最高速度21.1M/S，2024年SingBox节点每日更新订阅免费节点链接，代理机场推荐">「11月30日」最高速度21.1M/S，2024年SingBox节点每日更新订阅免费节点链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-2-13-free-node-subscribe.htm" title="「2月13日」最高速度19.8M/S，2025年SingBox节点每日更新订阅免费节点链接，代理机场推荐">「2月13日」最高速度19.8M/S，2025年SingBox节点每日更新订阅免费节点链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/news/article-23808.htm" title="Unity制作一个小星球">Unity制作一个小星球</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-11-27-node-share.htm" title="「11月27日」最高速度18.1M/S，2024年SingBox节点每日更新订阅免费节点链接，代理机场推荐">「11月27日」最高速度18.1M/S，2024年SingBox节点每日更新订阅免费节点链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-12-1-free-v2ray.htm" title="「12月1日」最高速度21.7M/S，2024年SingBox节点每日更新订阅免费节点链接，代理机场推荐">「12月1日」最高速度21.7M/S，2024年SingBox节点每日更新订阅免费节点链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/news/article-47423.htm" title="动物疫苗价格排行榜最新图片高清大图 动物疫苗价格排行榜最新图片高清大图大全">动物疫苗价格排行榜最新图片高清大图 动物疫苗价格排行榜最新图片高清大图大全</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-1-12-node-share.htm" title="「1月12日」最高速度19.5M/S，2025年SingBox节点每日更新订阅免费节点链接，代理机场推荐">「1月12日」最高速度19.5M/S，2025年SingBox节点每日更新订阅免费节点链接，代理机场推荐</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">48</span> <a href="/date/2025-02/" title="2025-02 归档">2025-02</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">93</span> <a href="/date/2025-01/" title="2025-01 归档">2025-01</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">93</span> <a href="/date/2024-12/" title="2024-12 归档">2024-12</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">30</span> <a href="/date/2024-11/" title="2024-11 归档">2024-11</a></h4>
            </li>
                    </ul>
    </div>
</div>



                </div>
            </div>
        </div>
    </div>
    <!-- //about -->
        <!-- footer -->
    <footer>
        <p class="copyright-agileinfo">
                            <p>
                                <a href="/">首页</a> | 
                                <a href="/free-node/">免费节点</a> | 
                                <a href="/news/">新闻资讯</a> |
                                <a href="/about-us.htm">关于我们</a> |
                                <a href="/disclaimer.htm">免责申明</a> |
                                <a href="/privacy.htm">隐私申明</a> |
                                <a href="/sitemap.xml">网站地图</a>
                            </p>
            SingBoxNode官网订阅站 版权所有
            <br />
            Powered by WordPress
        </p>
    </footer>
    <!-- //footer -->
    <script src="/assets/website/js/frontend/singboxnode/jquery.min.v3.js"></script>
    <script src="/assets/website/js/frontend/singboxnode/jquery-2.2.3.min.js"></script>
    <!-- gallery -->
    <script src="/assets/website/js/frontend/singboxnode/smoothbox.jquery2.js"></script>
    <!-- //gallery -->
    <!-- pop-up(for video popup)-->
    <script src="/assets/website/js/frontend/singboxnode/jquery.magnific-popup.js"></script>
    <script>
    $(document).ready(function() {
        $('.popup-with-zoom-anim').magnificPopup({
            type: 'inline',
            fixedContentPos: false,
            fixedBgPos: true,
            overflowY: 'auto',
            closeBtnInside: true,
            preloader: false,
            midClick: true,
            removalDelay: 300,
            mainClass: 'my-mfp-zoom-in'
        });

    });
    </script>
    <!-- //pop-up-box (syllabus section video)-->
    <!-- video js (background) -->
    <script src="/assets/website/js/frontend/singboxnode/jquery.vide.min.js"></script>
    <!-- //video js (background) -->
    <!-- banner Slider script  -->
    <script src="/assets/website/js/frontend/singboxnode/responsiveslides.min.js"></script>
    <script>
    $(function() {
        $("#slider, #slider1").responsiveSlides({
            auto: true,
            nav: false,
            speed: 1500,
            namespace: "callbacks",
            pager: true,
        });
    });
    </script>
    <!-- //banner Slider-JavaScript -->
    <script src="/assets/website/js/frontend/singboxnode/responsiveslides.min.js"></script>
    <script>
    $(function() {
        $("#slider4").responsiveSlides({
            auto: true,
            pager: true,
            nav: false,
            speed: 1000,
            namespace: "callbacks",
            before: function() {
                $('.events').append("<li>before event fired.</li>");
            },
            after: function() {
                $('.events').append("<li>after event fired.</li>");
            }
        });
    });
    </script>
    <!-- start-smooth-scrolling -->
    <script src="/assets/website/js/frontend/singboxnode/move-top.js"></script>
    <script src="/assets/website/js/frontend/singboxnode/easing.js"></script>
    <script>
    // jQuery(document).ready(function($) {
    //     $(".scroll").click(function(event) {
    //         event.preventDefault();

    //         $('html,body').animate({
    //             scrollTop: $(this.hash).offset().top
    //         }, 1000);
    //     });
    // });
    </script>
    <!-- //end-smooth-scrolling -->
    <!-- smooth-scrolling-of-move-up -->
    <script>
    $(document).ready(function() {
        /*
        var defaults = {
            containerID: 'toTop', // fading element id
            containerHoverID: 'toTopHover', // fading element hover id
            scrollSpeed: 1200,
            easingType: 'linear' 
        };
        */

        $().UItoTop({
            easingType: 'easeOutQuart'
        });

    });
    </script>
    <script src="/assets/website/js/frontend/singboxnode/SmoothScroll.min.js"></script>
    <!-- //smooth-scrolling-of-move-up -->
    <!-- FlexSlider-JavaScript -->
    <script defer src="/assets/website/js/frontend/singboxnode/jquery.flexslider.js"></script>
    <script>
    // $(function() {
    //     SyntaxHighlighter.all();
    // });
    $(window).load(function() {
        $('.flexslider').flexslider({
            animation: "slide",
            start: function(slider) {
                $('body').removeClass('loading');
            }
        });
    });
    </script>
    <!-- //FlexSlider-JavaScript -->
    <script src="/assets/website/js/frontend/singboxnode/bootstrap.min.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script>
    <script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>